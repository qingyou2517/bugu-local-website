(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/bugu-local-website/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0189":function(t,e,a){"use strict";a("1ecb")},"0c67":function(t,e,a){},"1ecb":function(t,e,a){},2675:function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"statistics2",use:"statistics2-usage",viewBox:"0 0 1025 1024",content:'<symbol class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" id="statistics2"><path d="M534.754.64h-20.468v468.719c0 7.685 2.558 12.805 7.676 17.929 5.114 5.119 12.792 7.685 17.912 7.685h483.583v-20.494C1026.014 208.104 808.53.64 534.754.64zm20.468 453.35V41.624C790.62 51.868 972.282 228.597 982.52 453.99h-427.3zm-69.08 568.61c271.215 0 493.819-212.59 493.819-476.405v-20.489H481.023V41.623h-20.466C207.247 41.624-.003 267.014-.003 543.635c0 268.937 214.925 478.965 486.146 478.965zM437.526 85.165v458.469c0 7.684 2.563 12.805 7.677 17.928 5.118 5.124 12.795 7.687 17.91 7.687h473.35c-10.235 227.958-209.807 412.368-450.32 412.368-248.19 0-445.205-192.095-445.205-437.982 0-245.886 176.543-448.226 396.588-458.47z" /></symbol>'});o.a.add(i);e["default"]=i},"2b80":function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><path d="M258.3 537.2l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6L355.9 512l360-281.1c3.9-3 6.1-7.7 6.1-12.6V141c0-6.7-7.7-10.4-12.9-6.3L258.3 486.8c-16.4 12.8-16.4 37.6 0 50.4z" /></symbol>'});o.a.add(i);e["default"]=i},"2e86":function(t,e,a){},"37af":function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><path d="M765.7 486.8L314.9 134.7c-5.3-4.1-12.9-.4-12.9 6.3v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1c16.4-12.8 16.4-37.6 0-50.4z" /></symbol>'});o.a.add(i);e["default"]=i},"3a18":function(t,e,a){"use strict";a("c430")},"47e7":function(t,e,a){"use strict";a("660f")},5051:function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"money2",use:"money2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money2"><path d="M684.8 243.2c32-19.2 64-38.4 83.2-64 25.6-25.6 32-76.8 19.2-108.8-12.8-38.4-44.8-64-83.2-64H320C288 0 249.6 32 236.8 64c-12.8 38.4-6.4 83.2 19.2 108.8 25.6 25.6 51.2 51.2 83.2 64C192 320 89.6 492.8 89.6 697.6c0 83.2 19.2 153.6 51.2 224 25.6 64 89.6 96 160 96H736c70.4 0 134.4-32 160-96 32-70.4 51.2-147.2 51.2-230.4-6.4-198.4-115.2-371.2-262.4-448zM313.6 121.6c-6.4-6.4-6.4-6.4 0-6.4 0 0 6.4-6.4 12.8-6.4h384c6.4 0 12.8 0 12.8 6.4V128c-51.2 44.8-128 70.4-211.2 70.4-83.2 0-153.6-32-198.4-76.8zM819.2 896c-12.8 38.4-51.2 57.6-89.6 57.6H294.4c-38.4 0-76.8-19.2-89.6-57.6-25.6-57.6-38.4-128-38.4-198.4 0-230.4 153.6-416 345.6-416 192 0 345.6 185.6 345.6 416 0 70.4-12.8 140.8-38.4 198.4z" /><path d="M652.8 448c-12.8 0-19.2 6.4-25.6 12.8L524.8 608l-96-147.2c-6.4-6.4-12.8-12.8-25.6-12.8s-19.2 6.4-19.2 19.2c0 6.4 6.4 12.8 6.4 19.2L480 620.8h-51.2c-12.8 0-25.6 0-25.6 12.8s6.4 12.8 25.6 12.8h64V704h-64c-12.8 0-25.6 0-25.6 12.8s6.4 12.8 25.6 12.8h64v83.2c0 12.8 12.8 19.2 32 19.2 12.8 0 32-6.4 32-19.2v-83.2h76.8c12.8 0 19.2-6.4 25.6-12.8 0-12.8-6.4-12.8-25.6-12.8h-83.2v-57.6h76.8c12.8 0 19.2-6.4 25.6-12.8 0-12.8-6.4-12.8-25.6-12.8H576l89.6-134.4c6.4-6.4 6.4-12.8 6.4-19.2 0-12.8-6.4-19.2-19.2-19.2z" /></symbol>'});o.a.add(i);e["default"]=i},"52f4":function(t,e,a){"use strict";a("cd43")},"5c25":function(t,e,a){},"624f":function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"label2",use:"label2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="label2"><path d="M920.529 444.496L580.418 104.381a135.932 135.932 0 00-96.156-39.758l-283.844.04h-.018c-75.124 0-136.099 60.746-136.099 135.885v283.674a136.091 136.091 0 0039.882 96.2l340.23 340.24a136.023 136.023 0 00192.37 0l283.746-283.76c53.128-53.132 53.128-139.278 0-192.406zm-45.21 147.193l-283.746 283.76a72.065 72.065 0 01-101.925 0L149.436 535.21a72.187 72.187 0 01-21.194-50.99v-283.67a72.021 72.021 0 0172.154-71.946l283.844-.04a71.888 71.888 0 0150.936 21.053L875.29 489.72a72.104 72.104 0 01.03 101.969z" /><path d="M384.002 256C313.307 256 256 313.306 256 384.001s57.308 127.996 128.003 127.996 128-57.308 128-128S454.69 256 384.002 256zM429.3 429.294a64.06 64.06 0 1118.759-45.293 63.64 63.64 0 01-18.763 45.293z" /></symbol>'});o.a.add(i);e["default"]=i},"660f":function(t,e,a){},6801:function(t,e,a){},"703b":function(t,e,a){"use strict";a("8a07")},8169:function(t,e,a){},"835d":function(t,e,a){},"8a07":function(t,e,a){},a26f:function(t,e,a){"use strict";a("6801")},a77b:function(t,e,a){"use strict";a("5c25")},a8f2:function(t,e,a){"use strict";a("835d")},aeb5:function(t,e,a){"use strict";a("bf7a")},b17d:function(t,e,a){"use strict";a("d345")},b422:function(t,e,a){var s={"./details.svg":"d11f","./label2.svg":"624f","./left.svg":"2b80","./money2.svg":"5051","./right.svg":"37af","./statistics2.svg":"2675"};function r(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id="b422"},b500:function(t,e,a){"use strict";a("fd52")},bf7a:function(t,e,a){},c430:function(t,e,a){},cd43:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("0fb7"),a("450d");var s=a("f529"),r=a.n(s),n=(a("1951"),a("eedf")),o=a.n(n),i=(a("e612"),a("dd87")),c=a.n(i),l=(a("075a"),a("72aa")),u=a.n(l),d=(a("826b"),a("c263")),p=a.n(d),f=(a("4ca3"),a("443e")),h=a.n(f),m=(a("9e1f"),a("6ed5")),g=a.n(m),v=a("2b0e"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),a("hr")],1)},y=[],w={name:"App",mounted(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px"),window.addEventListener("resize",()=>{let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")})}},C=w,x=(a("e3d3"),a("2877")),O=Object(x["a"])(C,b,y,!1,null,null,null),_=O.exports,L=a("9483");Object(L["a"])("/bugu-local-website/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var T=a("8c4f"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{style:{height:t.h+"px"},attrs:{"class-prefix":"layout"}},[a("NumberPad",{on:{"update:value":t.onUpdateAmount,submit:t.saveRecord}}),a("div",{staticClass:"notes"},[a("Notes",{attrs:{"field-name":"备注：",placeholder:"可以在这里输入备注，至多10个字符",value:t.record.notes},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}})],1),a("div",{staticClass:"date-wrapper"},[a("div",{staticClass:"date-box"},[a("div",{staticClass:"block date"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",editable:!1},model:{value:t.record.createdAt,callback:function(e){t.$set(t.record,"createdAt",e)},expression:"record.createdAt"}})],1)])]),a("Tags",{on:{"update:value":function(e){t.record.tags=e}}}),a("Tabs",{attrs:{"data-source":t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}})],1)},k=[],$=a("9ab4"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numberPad"},[a("div",{staticClass:"output"},[t._v(t._s(t.output||" "))]),a("div",{staticClass:"buttons"},[a("button",{on:{click:t.inputContent}},[t._v("1")]),a("button",{on:{click:t.inputContent}},[t._v("2")]),a("button",{on:{click:t.inputContent}},[t._v("3")]),a("button",{on:{click:t.remove}},[t._v("删除")]),a("button",{on:{click:t.inputContent}},[t._v("4")]),a("button",{on:{click:t.inputContent}},[t._v("5")]),a("button",{on:{click:t.inputContent}},[t._v("6")]),a("button",{on:{click:t.clear}},[t._v("清空")]),a("button",{on:{click:t.inputContent}},[t._v("7")]),a("button",{on:{click:t.inputContent}},[t._v("8")]),a("button",{on:{click:t.inputContent}},[t._v("9")]),a("button",{staticClass:"ok",on:{click:t.ok}},[t._v("ok")]),a("button",{staticClass:"zero",on:{click:t.inputContent}},[t._v("0")]),a("button",{staticClass:"point",on:{click:t.inputContent}},[t._v(".")])])])},M=[],E=a("1b40");let Y=class extends v["default"]{constructor(){super(...arguments),this.output="0"}inputContent(t){const e=t.target,a=e.textContent;if(12===this.output.length)return;if("0"===this.output)return void("0123456789".indexOf(a)>=0?this.output=a:this.output+=a);const s=this.output.indexOf(".");if(s>=0){const t=this.output.indexOf(".")+3;if(this.output.length>=t)return;if("."===a)return}this.output+=a}remove(){this.output=this.output.substring(0,this.output.length-1),0===this.output.length&&(this.output="0")}clear(){this.output="0"}ok(){const t=parseFloat(this.output);this.$emit("update:value",t),this.$emit("submit",t),this.output="0"}};Object($["a"])([Object(E["b"])(Number)],Y.prototype,"value",void 0),Y=Object($["a"])([E["a"]],Y);var z=Y,N=z,D=(a("b17d"),Object(x["a"])(N,S,M,!1,null,"2939779b",null)),P=D.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{staticClass:"notes"},[a("span",{staticClass:"name"},[t._v(t._s(this.fieldName))]),"date"===t.type?[a("input",{attrs:{type:t.type||"text",placeholder:this.placeholder},domProps:{value:t.x(t.value)},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]:[a("input",{attrs:{type:t.type||"text",placeholder:this.placeholder,maxlength:"10"},domProps:{value:t.value},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]],2)])},B=[],I=a("5a0c"),V=a.n(I);let R=class extends v["default"]{onValueChanged(t){this.$emit("update:value",t)}x(t){return V()(t).format("YYYY-MM-DD")}};Object($["a"])([Object(E["b"])({default:""})],R.prototype,"value",void 0),Object($["a"])([Object(E["b"])({required:!0})],R.prototype,"fieldName",void 0),Object($["a"])([Object(E["b"])(String)],R.prototype,"placeholder",void 0),Object($["a"])([Object(E["b"])(String)],R.prototype,"type",void 0),R=Object($["a"])([E["a"]],R);var H=R,W=H,J=(a("b500"),Object(x["a"])(W,A,B,!1,null,"5341f66f",null)),U=J.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[a("div",{staticClass:"new"},[a("button",{on:{click:t.createTag}},[t._v("新增标签")])]),a("div",{staticClass:"ul-wrapper",style:{height:t.h+"px"}},[a("ul",{staticClass:"current"},t._l(t.tagList,(function(e){return a("li",{key:e.id,class:{selected:t.selectedTags.indexOf(e)>=0},on:{click:function(a){return t.toggle(e)}}},[a("div",{staticClass:"tagBox"},[t._v(" "+t._s(e.name)+" ")])])})),0)])])},K=[],q=a("2fe1");const G={"tag name duplicated":"标签名重复了"};let Q=class extends v["default"]{createTag(){this.$prompt("请输入标签名","新增标签",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,4}$/,inputPlaceholder:"请输入1到4个字符",inputErrorMessage:"标签名不能为空，且不超过4个字符"}).then(t=>{this.$message({type:"success",message:"创建成功",duration:2e3,customClass:".el-message"}),"value"in t&&this.$store.commit("createTag",t.value),this.$store.state.createTagError&&this.$message({type:"error",message:G[this.$store.state.createTagError.message]||"未知错误",duration:2e3})}).catch(t=>{console.log(t)})}};Q=Object($["a"])([q["b"]],Q);var X=Q;let Z=class extends(Object(q["c"])(X)){constructor(){super(...arguments),this.selectedTags=[],this.h=document.body.clientHeight-50-44-40-58-192-54-72}get tagList(){return this.$store.state.tagList}created(){this.$store.commit("fetchTags")}toggle(t){const e=this.selectedTags.indexOf(t);e>=0?this.selectedTags.splice(e,1):(this.selectedTags.length>=1&&(this.selectedTags=[]),this.selectedTags.push(t)),this.$emit("update:value",this.selectedTags)}};Z=Object($["a"])([E["a"]],Z);var tt=Z,et=tt,at=(a("0189"),Object(x["a"])(et,F,K,!1,null,"1b735d9f",null)),st=at.exports,rt=function(){var t,e=this,a=e.$createElement,s=e._self._c||a;return s("ul",{staticClass:"tabs",class:(t={},t[e.classPrefix+"-tabs"]=e.classPrefix,t)},e._l(e.dataSource,(function(t){return s("li",{key:t.value,staticClass:"tabs-item",class:e.liClass(t),on:{click:function(a){return e.select(t)}}},[e._v(" "+e._s(t.text)+" ")])})),0)},nt=[];let ot=class extends v["default"]{liClass(t){return{selected:t.value===this.value,[this.classPrefix+"-tabs-item"]:this.classPrefix}}select(t){this.$emit("update:value",t.value)}};Object($["a"])([Object(E["b"])({required:!0,type:Array})],ot.prototype,"dataSource",void 0),Object($["a"])([Object(E["b"])(String)],ot.prototype,"value",void 0),Object($["a"])([Object(E["b"])(String)],ot.prototype,"classPrefix",void 0),ot=Object($["a"])([E["a"]],ot);var it=ot,ct=it,lt=(a("a77b"),Object(x["a"])(ct,rt,nt,!1,null,"8312cc96",null)),ut=lt.exports;const dt=Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}]);var pt=dt;let ft=class extends v["default"]{constructor(){super(...arguments),this.h=window.innerHeight,this.recordTypeList=pt,this.record={tags:[],notes:"",type:"-",amount:0,createdAt:(new Date).toISOString()}}data(){return{pickerOptions:{disabledDate(t){return t.getTime()>Date.now()}}}}get recordList(){return this.$store.state.recordList}created(){this.$store.commit("fetchRecords")}onUpdateNotes(t){this.record.notes=t}onUpdateAmount(t){this.record.amount=parseFloat(t)}saveRecord(){if(!this.record.tags||0===this.record.tags.length)return this.$message({type:"warning",message:"请至少选择一个标签",duration:2e3,customClass:".el-message"});this.$store.commit("createRecord",this.record),null===this.$store.state.createRecordError&&(this.$message({type:"success",message:"已保存",duration:2e3,customClass:".el-message"}),this.record.notes="")}};ft=Object($["a"])([Object(E["a"])({components:{Tabs:ut,Tags:st,Notes:U,NumberPad:P}})],ft);var ht=ft,mt=ht,gt=(a("a26f"),a("3a18"),Object(x["a"])(mt,j,k,!1,null,"12233ce6",null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"projectTitle"},[a("svg",{staticClass:"icon icon-bird"},[a("use",{attrs:{"xlink:href":"#icon-bird"}})])]),a("div",{staticClass:"tagsWrapper"},t._l(t.tags,(function(e){return a("router-link",{key:e.id,staticClass:"tagItem",attrs:{to:"/labels/edit/"+e.id}},[a("span",{staticClass:"tag-name"},[t._v(t._s(e.name))]),a("Icon",{attrs:{name:"right"}})],1)})),1),a("div",{staticClass:"createTag-wrapper"},[a("el-button",{staticClass:"createTag",attrs:{type:"primary",size:"medium"},on:{click:t.createTag}},[t._v("新增"),a("i",{staticClass:"el-icon-edit"})])],1)])},yt=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)},Ct=[];let xt=class extends v["default"]{};xt=Object($["a"])([E["a"]],xt);var Ot=xt,_t=Ot,Lt=(a("f4b6"),Object(x["a"])(_t,wt,Ct,!1,null,"0b3e3291",null)),Tt=Lt.exports;let jt=class extends(Object(q["c"])(X)){get tags(){return this.$store.state.tagList}beforeCreate(){this.$store.commit("fetchTags")}};jt=Object($["a"])([Object(E["a"])({components:{Button:Tt}})],jt);var kt=jt,$t=kt,St=(a("aeb5"),Object(x["a"])($t,bt,yt,!1,null,"21dfd066",null)),Mt=St.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("Tabs",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),a("div",{staticClass:"chart-wrapper"},[a("span",{staticClass:"introduction"},[t._v("最近30天趋势")]),a("div",{ref:"chartWrapper",staticClass:"lineChart-wrapper chart-box"},[a("Chart",{staticClass:"lineChart",attrs:{options:t.lineChartOptions}})],1),a("span",{staticClass:"introduction"},[t._v("最近30天各项占比")]),a("div",{staticClass:"pieChart-wrapper chart-box"},[a("Chart",{staticClass:"pieChart",attrs:{options:t.pieChartOption}})],1)])],1)},Yt=[];a("13d5");function zt(t){return JSON.parse(JSON.stringify(t))}var Nt=zt,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"wrapper"})},Pt=[],At=a("313e");let Bt=class extends v["default"]{mounted(){if(void 0===this.options)return console.error("options 为空");this.chart=At["a"](this.$refs.wrapper),this.chart.setOption(this.options),this.chart.resize()}onOptionsChange(t){this.chart.setOption(t)}beforeUnmount(){console.log("beforeUnmount"),this.chart&&(this.chart.dispose(),this.chart=void 0)}};Object($["a"])([Object(E["b"])()],Bt.prototype,"options",void 0),Object($["a"])([Object(E["c"])("options")],Bt.prototype,"onOptionsChange",null),Bt=Object($["a"])([E["a"]],Bt);var It=Bt,Vt=It,Rt=(a("f4ad"),Object(x["a"])(Vt,Dt,Pt,!1,null,"5038a1eb",null)),Ht=Rt.exports,Wt=a("2ef0"),Jt=a.n(Wt);let Ut=class extends v["default"]{constructor(){super(...arguments),this.type="-",this.recordTypeList=pt}tagString(t){return 0===t.length?"无":t.map(t=>t.name).join("，")}mounted(){if(this.$refs.chartWrapper){const t=this.$refs.chartWrapper;t.scrollLeft=t.scrollWidth}}get lineKeyValueList(){const t=new Date,e=[];for(let a=0;a<=29;a++){const s=V()(t).subtract(a,"day").format("YYYY-MM-DD"),r=Jt.a.find(this.groupedList,{title:s});e.push({key:s,value:r?r.total:0})}return e.sort((t,e)=>t.key>e.key?1:t.key===e.key?0:-1),e}get pieKeyValueList(){new Map;const t=[],e=new Date,a={};for(let s=0;s<=29;s++){const t=V()(e).subtract(s,"day").format("YYYY-MM-DD"),r=Jt.a.find(this.groupedList,{title:t});let n=0;if(null!==r&&void 0!==r&&r.items)for(let e=0;e<r.items.length;e++){let t=r.items[e].tags[0].name;n=r.items[e].amount,t in a?a[t]+=n:a[t]=n}}for(let s in a)t.push({value:a[s],name:s});return t}get lineChartOptions(){const t=this.lineKeyValueList.map(t=>t.key),e=this.lineKeyValueList.map(t=>t.value);return{grid:{left:0,right:0,top:10,bottom:30},xAxis:{axisTick:{show:!0,alignWithLabel:!0},axisLabel:{formatter:function(t,e){return t.substring(5)}},type:"category",data:t},yAxis:{type:"value",show:!1},series:[{symbolSize:12,data:e,type:"line"}],tooltip:{show:!0}}}get pieChartOption(){const t=this.pieKeyValueList;return{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",top:"5%",left:"left",padding:[10,10,10,10]},series:[{name:"金额",type:"pie",radius:["40%","70%"],center:["50%","60%"],avoidLabelOverlap:!1,bottom:10,selectedOffset:20,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!1,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:t}]}}beautify(t){const e=V()(t),a=V()();return e.isSame(a,"day")?"今天":e.isSame(a.subtract(1,"day"),"day")?"昨天":e.isSame(a.subtract(2,"day"),"day")?"前天":e.isSame(a,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}get recordList(){return this.$store.state.recordList}get groupedList(){const{recordList:t}=this;if(0===t.length)return[];const e=Nt(t).filter(t=>t.type===this.type).sort((t,e)=>V()(e.createdAt).valueOf()-V()(t.createdAt).valueOf());if(0===e.length)return[];const a=[{title:V()(e[0].createdAt).format("YYYY-MM-DD"),items:[e[0]]}];for(let s=1;s<e.length;s++){const t=e[s],r=a[a.length-1];V()(r.title).isSame(V()(t.createdAt),"day")?r.items.push(t):a.push({title:V()(t.createdAt).format("YYYY-MM-DD"),items:[t]})}return a.map(t=>{t.total=t.items.reduce((t,e)=>t+e.amount,0)}),a}beforeCreate(){this.$store.commit("fetchRecords")}};Ut=Object($["a"])([Object(E["a"])({components:{Tabs:ut,Chart:Ht}})],Ut);var Ft=Ut,Kt=Ft,qt=(a("703b"),Object(x["a"])(Kt,Et,Yt,!1,null,"f8924e02",null)),Gt=qt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("Tabs",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),t.groupedList.length>0?a("ol",{staticClass:"result"},t._l(t.groupedList,(function(e,s){return a("li",{key:s},[a("h3",{staticClass:"title"},[t._v(t._s(t.beautify(e.title))+" "),a("span",[t._v("￥"+t._s(e.total))])]),a("ol",{staticClass:"record-wrapper"},t._l(e.items,(function(e){return a("li",{key:e.id,staticClass:"record"},[a("span",[t._v(t._s(t.tagString(e.tags)))]),a("span",{staticClass:"notes"},[t._v(t._s(e.notes))]),a("span",[t._v("￥"+t._s(e.amount)+" ")])])})),0)])})),0):a("div",{staticClass:"noResult"},[t._v(" 目前没有相关记录 ")])],1)},Xt=[];let Zt=class extends v["default"]{constructor(){super(...arguments),this.type="-",this.recordTypeList=pt}tagString(t){return 0===t.length?"无":t.map(t=>t.name).join("，")}mounted(){if(this.$refs.chartWrapper){const t=this.$refs.chartWrapper;t.scrollLeft=t.scrollWidth}}beautify(t){const e=V()(t),a=V()();return e.isSame(a,"day")?"今天":e.isSame(a.subtract(1,"day"),"day")?"昨天":e.isSame(a.subtract(2,"day"),"day")?"前天":e.isSame(a,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}get recordList(){return this.$store.state.recordList}get groupedList(){const{recordList:t}=this;if(0===t.length)return[];const e=Nt(t).filter(t=>t.type===this.type).sort((t,e)=>V()(e.createdAt).valueOf()-V()(t.createdAt).valueOf());if(0===e.length)return[];const a=[{title:V()(e[0].createdAt).format("YYYY-MM-DD"),items:[e[0]]}];for(let s=1;s<e.length;s++){const t=e[s],r=a[a.length-1];V()(r.title).isSame(V()(t.createdAt),"day")?r.items.push(t):a.push({title:V()(t.createdAt).format("YYYY-MM-DD"),items:[t]})}return a.map(t=>{t.total=t.items.reduce((t,e)=>t+e.amount,0)}),a}beforeCreate(){this.$store.commit("fetchRecords")}};Zt=Object($["a"])([Object(E["a"])({components:{Tabs:ut,Chart:Ht}})],Zt);var te=Zt,ee=te,ae=(a("f54c"),Object(x["a"])(ee,Qt,Xt,!1,null,"19036310",null)),se=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",[a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 404 "),a("br"),t._v(" 当前页面不存在，请检查网址是否正确 ")])}],oe={name:"NotFound"},ie=oe,ce=Object(x["a"])(ie,re,ne,!1,null,"8ee2f29e",null),le=ce.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"navBar"},[a("Icon",{staticClass:"leftIcon",attrs:{name:"left"},on:{click:t.goBack}}),a("span",{staticClass:"title"},[t._v("编辑标签")]),a("span",{staticClass:"rightIcon"})],1),a("div",{staticClass:"Notes-wrapper"},[a("Notes",{attrs:{value:t.tag.name,"field-name":"标签名",placeholder:"请输入1到4个字符"},on:{"update:value":t.updateTag}})],1),a("span",{staticClass:"reminder"},[t._v("亲，标签名必须是1到4个字符哦")]),a("div",{staticClass:"Button-wrapper"},[a("Button",{on:{click:t.removeTag}},[t._v("删除标签")])],1)])},de=[];let pe=class extends v["default"]{get tag(){return this.$store.state.currentTag}created(){this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",this.$route.params.id),this.tag||this.$router.replace("/404")}updateTag(t){this.tag&&this.$store.commit("updateTag",{id:this.tag.id,name:t})}removeTag(){this.tag&&this.$store.commit("removeTag",this.tag.id)}goBack(){this.$router.back()}};pe=Object($["a"])([Object(E["a"])({components:{Button:Tt,Notes:U}})],pe);var fe=pe,he=fe,me=(a("a8f2"),Object(x["a"])(he,ue,de,!1,null,"26eba918",null)),ge=me.exports;v["default"].use(T["a"]);const ve=[{path:"/",redirect:"/money"},{path:"/money",component:vt},{path:"/labels",component:Mt},{path:"/details",component:se},{path:"/statistics",component:Gt},{path:"/labels/edit/:id",component:ge},{path:"*",component:le}],be=new T["a"]({routes:ve});var ye=be,we=a("2f62");let Ce=parseInt(window.localStorage.getItem("_idMax")||"0");function xe(){return Ce++,window.localStorage.setItem("_idMax",Ce.toString()),Ce}var Oe=xe;v["default"].use(we["a"]);const _e=new we["a"].Store({state:{recordList:[],createRecordError:null,createTagError:null,tagList:[],currentTag:void 0},mutations:{fetchRecords(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},createRecord(t,e){const a=Nt(e);a.createdAt=a.createdAt||(new Date).toISOString(),t.recordList.push(a),_e.commit("saveRecords")},saveRecords(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(_e.commit("createTag","衣"),_e.commit("createTag","食"),_e.commit("createTag","住"),_e.commit("createTag","行"))},createTag(t,e){t.createTagError=null;const a=t.tagList.map(t=>t.name);if(a.indexOf(e)>=0)return void(t.createTagError=new Error("tag name duplicated"));const s=Oe().toString();t.tagList.push({id:s,name:e}),_e.commit("saveTags")},saveTags(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))},findTag(t,e){return t.tagList.filter(t=>t.id===e)[0]},setCurrentTag(t,e){t.currentTag=t.tagList.filter(t=>t.id===e)[0]},updateTag(t,e){const{id:a,name:s}=e,r=t.tagList.map(t=>t.id);if(!(r.indexOf(a)>=0))return"not found";{const e=t.tagList.map(t=>t.name);if(e.indexOf(s)>=0)return void v["default"].prototype.$message({type:"error",message:"标签名重复了",duration:2e3});if(0===s.length||s.length>4)return void v["default"].prototype.$message({type:"error",message:"亲，标签名必须是1到4个字符哦",duration:3e3});{const e=t.tagList.filter(t=>t.id===a)[0];e.name=s,_e.commit("saveTags")}}},removeTag(t,e){let a=-1;for(let s=0;s<t.tagList.length;s++)if(t.tagList[s].id===e){a=s;break}a>=0?(t.tagList.splice(a,1),_e.commit("saveTags"),ye.back()):window.alert("删除失败")}},actions:{},modules:{}});var Le=_e,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[a("Icon",{attrs:{name:"money2"}}),t._v(" 记账 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/labels","active-class":"selected"}},[a("Icon",{attrs:{name:"label2"}}),t._v(" 标签 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/details","active-class":"selected"}},[a("Icon",{attrs:{name:"details"}}),t._v(" 明细 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[a("Icon",{attrs:{name:"statistics2"}}),t._v(" 统计 ")],1)],1)},je=[],ke={name:"Nav"},$e=ke,Se=(a("47e7"),Object(x["a"])($e,Te,je,!1,null,"560a8f2f",null)),Me=Se.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-wrapper",class:t.classPrefix&&t.classPrefix+"-wrapper"},[a("div",{staticClass:"content",class:t.classPrefix&&t.classPrefix+"-content"},[t._t("default")],2),a("Nav")],1)},Ye=[],ze={props:["classPrefix"],name:"Layout"},Ne=ze,De=(a("dff3"),Object(x["a"])(Ne,Ee,Ye,!1,null,"ea8abcac",null)),Pe=De.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"icon",on:{click:function(e){return t.$emit("click",e)}}},[a("use",{attrs:{"xlink:href":"#"+t.name}})])},Be=[];let Ie=t=>t.keys().forEach(t);try{Ie(a("b422"))}catch(Je){console.log(Je)}var Ve={props:["name"],name:"Icon"},Re=Ve,He=(a("52f4"),Object(x["a"])(Re,Ae,Be,!1,null,"5b2b924e",null)),We=He.exports;v["default"].config.productionTip=!1,v["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},v["default"].component("Nav",Me),v["default"].component("Layout",Pe),v["default"].component("Icon",We),v["default"].component(g.a.name,g.a),v["default"].component(h.a.name,h.a),v["default"].component(p.a.name,p.a),v["default"].component(u.a.name,u.a),v["default"].component(c.a.name,c.a),v["default"].component(o.a.name,o.a),v["default"].prototype.$prompt=g.a.prompt,v["default"].prototype.$alert=g.a.alert,v["default"].prototype.$message=r.a,new v["default"]({router:ye,store:Le,render:t=>t(_)}).$mount("#app"),window.onload=function(){setTimeout((function(){window.scrollTo(0,200)}),0)}},d11f:function(t,e,a){"use strict";a.r(e);var s=a("e017"),r=a.n(s),n=a("21a1"),o=a.n(n),i=new r.a({id:"details",use:"details-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="details"><path d="M128 0v960h832V0zm768 896H192V64h704z" /><path d="M320 256h64v64h-64zm128 0h320v64H448zM320 448h64v64h-64zm128 0h320v64H448zM320 640h64v64h-64zm128 0h320v64H448z" /></symbol>'});o.a.add(i);e["default"]=i},d345:function(t,e,a){},dff3:function(t,e,a){"use strict";a("0c67")},e3d3:function(t,e,a){"use strict";a("fce5")},efd9:function(t,e,a){},f4ad:function(t,e,a){"use strict";a("efd9")},f4b6:function(t,e,a){"use strict";a("2e86")},f54c:function(t,e,a){"use strict";a("8169")},fce5:function(t,e,a){},fd52:function(t,e,a){}});
//# sourceMappingURL=app.f02f7719.js.map